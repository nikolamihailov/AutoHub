<div class="profile-info-wrapper">
  @if(isLoading){
  <div class="profile-loading">
    <mat-progress-spinner
      diameter="100"
      mode="indeterminate"
      color="primary"
      class="inline-spinner"
      [strokeWidth]="5"
    ></mat-progress-spinner>
  </div>
  } @else if (user) {
  <div class="profile-avatar">
    <img [src]="user.avatar || 'assets/avatar.png'" alt="User Avatar" />
  </div>
  <div class="profile-fields">
    <div class="profile-field">
      <span class="label">First Name:</span>
      <span class="value">{{ user.firstName }}</span>
    </div>
    <div class="profile-field">
      <span class="label">Last Name:</span>
      <span class="value">{{ user.lastName }}</span>
    </div>
    <div class="profile-field">
      <span class="label">Email:</span>
      <span class="value">{{ user.email }}</span>
    </div>
    <div class="profile-field">
      <span class="label">Role:</span>
      <span class="value">{{ user.role }}</span>
    </div>
    <div class="profile-field">
      <span class="label">Account Type:</span>
      <span class="value">{{ accountTypes[user.accountType] }}</span>
    </div>
    <div class="account-info">
      <span>Account's Type Information</span>
      <button
        type="button"
        class="icon-btn info-btn"
        (click)="toggleShowInfoBtn()"
        tabindex="-1"
        aria-label="Account type info"
        mat-icon-button
      >
        <mat-icon>info</mat-icon>
      </button>
    </div>

    @if (showAccountInfo) {
    <div class="account-info-text">
      <strong>Private Account:</strong> Others can't access all your active offers at once.<br /><br />
      <strong>Dealership:</strong> All your active offers are visible to others in your profile.
    </div>
    }
  </div>
  <div>
    <button class="btn" (click)="handleEditBtn()">
      Edit
      <mat-icon style="font-size: 2rem">edit</mat-icon>
    </button>
  </div>
  } @else if (errorMsg) {
  <div class="profile-error">
    {{ errorMsg }}
  </div>
  }
</div>
